<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Lin Si Jie - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">DeadlineManager</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/CS2103-AY1819S1-W17-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Lin Si Jie - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-deadline-manager"><a class="link" href="#project-deadline-manager">PROJECT: Deadline Manager</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>Deadline Manager is a tool written for students in NUS School of Computing to better manage their deadlines and priorities. Interacting through a Command Line Interface (CLI), users can easily manage their schedules and focus on what is most important to them.</p>
</div>
<div class="paragraph">
<p>Written in Java, Deadline Manager builds upon AddressBook - Level 4, a code base originally designed to teach Software Engineering principles. For more information and to take our project for a test run, please visit our home page [<a href="https://cs2103-ay1819s1-w17-4.github.io/main">on GitHub</a>].</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: added <strong>the ability to import/export Deadline Manager</strong></p>
<div class="ulist">
<ul>
<li>
<p>What it does: allows users to export a selection/subset of tasks to a file. This file can be shared with friends, who can then import it to their own Deadline Manager. Furthermore, users can export their tasks as Comma Separated Values (CSV) format, which is compatible with other major Calendar applications. This enables users to switch seamlessly to various services such as Google Calendar.</p>
</li>
<li>
<p>Justification: This feature is essential to our Deadline Manager. Our Deadline Manager caters specifically to the study environment in School of Computing. As most assignments/deadlines are common to the entire module, the ability to import/export tasks allows students to share and remind each other of their schedules. Furthermore, through import/export, professors can also make use of Deadline Manager to update and remind students of upcoming assessments. The ability to export as CSV format further improves the user experience, as users can switch seamlessly to other major Calendar services such as Google Calendar.</p>
</li>
<li>
<p>Highlights: //TO-DO. Talk abt import resolver</p>
</li>
<li>
<p>Credits: Referenced <a href="https://support.google.com/calendar/answer/37118?hl=en">CSV format compatible with Google Calendar</a> to understand the specifications for exporting in CSV format.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: changed how parameters are parsed by the app.</p>
<div class="ulist">
<ul>
<li>
<p>What it does: Previously, the app ignores repeated parameters (e.g. specify <code>name</code> more than once), which can be confusing for the user. Made changes to the parser so that an appropriate error will be thrown instead.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>: [<a href="https://github.com/CS2103-AY1819S1-W17-4/main/commits?author=sijie123">Commits</a>]</p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Set up project repository and labels for Issue Tracker.</p>
</li>
<li>
<p>Managed releases <code>v1.2</code> and <code>v1.3</code> on GitHub</p>
</li>
<li>
<p>Contributed to user stories on GitHub Issue Tracker (<a href="https://github.com/CS2103-AY1819S1-W17-4/main/issues/1">#1</a>, <a href="https://github.com/CS2103-AY1819S1-W17-4/main/issues/2">#2</a>, <a href="https://github.com/CS2103-AY1819S1-W17-4/main/issues/3">#3</a>, <a href="https://github.com/CS2103-AY1819S1-W17-4/main/issues/4">#4</a>)</p>
</li>
<li>
<p>Reported and resolved bugs in Deadline Manager (<a href="https://github.com/CS2103-AY1819S1-W17-4/main/issues/147">#147</a>, <a href="https://github.com/CS2103-AY1819S1-W17-4/main/issues/170">#170</a>, <a href="https://github.com/CS2103-AY1819S1-W17-4/main/issues/191">#191</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Added additional checks to detect potential errors in file I/O operations (e.g. saving).</p>
</li>
<li>
<p>Refactored unit test for <code>AddCommandTest</code> by creating  <code>ModelStub</code>, a class containing scaffolding code common to other instances of <code>CommandTest</code>. (<a href="https://github.com/CS2103-AY1819S1-W17-4/main/blob/master/src/test/java/seedu/address/logic/commands/ModelStub.java">ModelStub.java</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Documentation:</p>
<div class="ulist">
<ul>
<li>
<p>Rewrote introduction chapters and add more signposting for Developer Guide, so that Developer Guide is more structured and easier to understand: <a href="https://github.com/CS2103-AY1819S1-W17-4/main/pull/129/files">#129</a></p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Reviewed Pull Requests (with non-trivial review comments): <a href="https://github.com/CS2103-AY1819S1-W17-4/main/pull/169">#169</a>, <a href="https://github.com/CS2103-AY1819S1-W17-4/main/pull/206">#206</a></p>
</li>
<li>
<p>Reported bugs and suggested fixes in the original se-edu addressbook-level2 (Pull Requests: <a href="https://github.com/se-edu/addressbook-level2/pull/431">#431</a>, <a href="https://github.com/se-edu/addressbook-level2/pull/436">436</a>)</p>
</li>
</ul>
</div>
</li>
<li>
<p>Tools:</p>
<div class="ulist">
<ul>
<li>
<p>Integrated TravisCI to the project to the team repo.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the User Guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="exporting-a-set-of-tasks-code-export-code"><a class="link" href="#exporting-a-set-of-tasks-code-export-code">Exporting a set of tasks: <code>export</code></a></h3>
<div class="paragraph">
<p>Exports the tasks that is currently displayed by the Deadline Manager. The tasks will be saved as a file at the provided <code>FILEPATH</code> location.</p>
</div>
<div class="paragraph">
<p>Deadline Manager provides two different formats to export in.</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>eXtensible Markup Language (XML) format: XML is a format that Deadline Manager is fully compatible with. If exported as XML format, tasks can be <a href="#importing-a-set-of-tasks-code-import-code">imported</a> back into another copy of Deadline Manager.</p>
</li>
<li>
<p>Comma Separated Values (CSV) format: CSV is a format that is supported by most calendar applications. If exported as CSV format, tasks can be imported into other applications like Google Calendar. Currently, Deadline Manager can only export names and deadlines of tasks.</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>Format: <code>export [csv] p/FILEPATH [r/overwrite]</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p>If the <code>csv</code> option is specified, Deadline Manager will export tasks in CSV format. Otherwise, by default, it will export in XML format.</p>
</li>
<li>
<p><code>FILEPATH</code> refers to a location on your computer, and the <code>FILEPATH</code> provided should be enclosed within quotes (<code>"</code>). You may provide a relative location (<code>tasks.xml</code>) or an absolute location (<code>C:\Folder\tasks.xml</code>). Deadline Manager will attempt to export to the specified location.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To avoid ambiguity, it is recommended to use quotation marks when specifying a <code>FILEPATH</code>. <code>FILEPATHs</code> not enclosed in quotations will still be parsed, however correct behaviour is not guaranteed.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>If there is an existing file at the provided location, the write command will fail, in order to protect your data.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can override the default behaviour by specifying r/overwrite. This will allow you to overwrite files even if they already exist. Use with caution so as not to overwrite important data.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>export p/cs2101.xml</code><br>
Creates and exports tasks to <code>cs2101.xml</code> in the same folder as Deadline Manager. This file can be used in <a href="#importing-a-set-of-tasks-code-import-code">import</a> later.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The following is a step-by-step guide on how the export command behaves.</p>
</div>
<div id="img-exportdemo1" class="imageblock">
<div class="content">
<img src="../images/userguide/exportdemo_1.PNG" alt="ExportDemo" width="790">
</div>
<div class="title">Figure 3.9.1: Command box.</div>
</div>
<div class="paragraph">
<p>In Figure 3.9.1 above, the user enters the <code>export p/cs2101.xml</code> command into the command box.</p>
</div>
<div id="img-exportdemo2" class="imageblock">
<div class="content">
<img src="../images/userguide/exportdemo_2.png" alt="ExportDemo2" width="790">
</div>
<div class="title">Figure 3.9.2: Result of export command</div>
</div>
<div class="paragraph">
<p>In Figure 3.9.2 above, after the user presses enter, Deadline Manager exports the file and display a success message. The exported file is located at cs2101.xml, and contains the tasks displayed in the deadline manager, namely "CS2101 Oral Presentation" in the screenshot above.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>export p/cs2101.txt</code> (Exports a file successfully)<br>
  <code>export p/cs2101.txt</code><br>
Fails and returns an error as <code>cs2101.txt</code> already exists when the second command is run. In order to protect your data, the second export command fails.</p>
</li>
</ul>
</div>
<div id="img-exportdemo3" class="imageblock">
<div class="content">
<img src="../images/userguide/exportdemo_3.png" alt="ExportDemo3" width="790">
</div>
<div class="title">Figure 3.9.3: Sample error message</div>
</div>
<div class="paragraph">
<p>Figure 3.9.3 above shows the error message when the user attempts to export to a file that already exists. Deadline Manager will not overwrite any existing file so as to protect your data.</p>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
You can overwrite the file by specifying r/overwrite. The command would be <code>export p/cs2101.txt r/overwrite</code> in this case.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p><code>export csv p/cs2103.csv</code><br>
Creates and exports tasks to <code>cs2103.csv</code> as CSV format. This file is compatible with most calendar applications and can be imported into Google Calendar.</p>
</li>
<li>
<p><code>export p/"C:\Documents\cs2103.txt"</code><br>
Creates and exports tasks to <code>cs2103.txt</code> in the <code>C:\Documents</code> folder.</p>
</li>
</ul>
</div>
</div>
<div class="sect2">
<h3 id="importing-a-set-of-tasks-code-import-code"><a class="link" href="#importing-a-set-of-tasks-code-import-code">Importing a set of tasks: <code>import</code></a></h3>
<div class="paragraph">
<p>Imports tasks that were previously generated by an export command. Deadline Manager will attempt to retrieve tasks from the provided <code>FILEPATH</code> location.</p>
</div>
<div class="paragraph">
<p>Format: <code>import p/FILEPATH [r/all | r/overwrite | r/skip]</code></p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="ulist">
<ul>
<li>
<p><code>FILEPATH</code> refers to a location on your computer, and the <code>FILEPATH</code> provided should be enclosed within quotes (<code>"</code>). You may provide a relative location (<code>tasks.xml</code>) or an absolute location (<code>C:\Folder\tasks.xml</code>). Deadline Manager will attempt to import from the specified location.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
To avoid ambiguity, it is recommended to use quotation marks when specifying a <code>FILEPATH</code>. <code>FILEPATHs</code> not enclosed in quotations will still be parsed, however correct behaviour is not guaranteed.
</td>
</tr>
</table>
</div>
<div class="ulist">
<ul>
<li>
<p>Additionally, the file must be in a readable XML format.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
Currently, Deadline Manager does not support importing from a CSV file. This feature will be made available in v2.0.
</td>
</tr>
</table>
</div>
</div>
</div>
<div class="paragraph">
<p>Optional commands can provided to specify what Deadline Manager should do when there is an import conflict.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An import conflict occurs when you try to import a task, but a similar task already exists in your Deadline Manager. When this happens, Deadline Manager needs to know what you want to do with these tasks.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>You can input either one of three commands to specify how to resolve an import conflict:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>r/all</code>: Imports the new task, keeping both the existing and incoming tasks.</p>
</li>
<li>
<p><code>r/overwrite</code>: Imports the new task, replacing the existing task.</p>
</li>
<li>
<p><code>r/skip</code>: Does not import the conflicting task, keeping the existing task instead.</p>
</li>
</ul>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
If you do not specify any command, Deadline Manager uses <code>r/skip</code> by default, i.e. it will ignore new tasks that cause import conflicts.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>(Assuming that we have previously exported to <code>cs2101.xml</code>)<br>
<code>import p/cs2101.xml r/all</code><br>
Imports all tasks from <code>cs2101.xml</code>. Deadline Manager will save all tasks, even if duplicates already exist.</p>
</li>
</ul>
</div>
<div id="img-importdemo2" class="imageblock">
<div class="content">
<img src="../images/userguide/importdemo_2.png" alt="ImportDemo2" width="790">
</div>
<div class="title">Figure 3.10.1: User prepares to import from cs2101.xml</div>
</div>
<div class="paragraph">
<p>In Figure 3.10.1, we assume that the user has previously exported to <code>cs2101.xml</code>. <code>cs2101.xml</code> contains another copy of "CS2101 Oral Presentation". The user now attempts to import from <code>cs2101.xml</code>.</p>
</div>
<div id="img-importdemo3" class="imageblock">
<div class="content">
<img src="../images/userguide/importdemo_3.png" alt="ImportDemo3" width="790">
</div>
<div class="title">Figure 3.10.2: Result of import command with the r/all command</div>
</div>
<div class="paragraph">
<p>Figure 3.10.2 shows the success message after importing from cs2101.xml. Note that, as the r/all command is used, both copies of "CS2101 Oral Presentation" are saved.</p>
</div>
<div class="paragraph">
<p>*
<code>import p/cs2101.xml</code><br>
Imports all tasks from <code>cs2101.xml</code>. Since the r/all parameter is not specified, if an incoming task already exists in Deadline Manager, it is skipped.</p>
</div>
<div id="img-importdemo" class="imageblock">
<div class="content">
<img src="../images/userguide/importdemo_4.PNG" alt="ImportDemo4" width="790">
</div>
<div class="title">Figure 3.10.3: Result of import command with no additional parameters</div>
</div>
<div class="paragraph">
<p>Figure 3.10.3 shows the success message after importing from <code>cs2101.xml</code>. As <code>cs2101.xml</code> contains a duplicate copy of "CS2101 Oral Presentation", nothing new is imported.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>import p/"C:\Documents\cs2101.xml" r/all</code><br>
Imports all tasks from <code>C:\Documents\cs2101.xml</code>. Deadline Manager will save all tasks, even if duplicates already exist.</p>
</li>
</ul>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are sections I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="import-and-export-feature"><a class="link" href="#import-and-export-feature">Import and Export feature</a></h3>
<div class="paragraph">
<p>The deadline manager supports import and export features. This feature uses 2 components: <code>Storage</code> and <code>Model</code>.
This section will first provide an overview into the components and API involved, before focusing on interactions between the components.</p>
</div>
<div class="sect3">
<h4 id="current-implementation"><a class="link" href="#current-implementation">Current Implementation</a></h4>
<div class="paragraph">
<p>This section will give an overview of how the import and export features work with <code>Model</code> and <code>Storage</code>.</p>
</div>
<div class="sect4">
<h5 id="overview-of-components"><a class="link" href="#overview-of-components">Overview of components</a></h5>
<div class="paragraph">
<p>Internally, <code>StorageManager</code> implements the following APIs from <code>ImportExportStorage</code> interface:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>importTaskCollection</code>:  Given a filename, imports and returns a <code>TaskCollection</code>.</p>
</li>
<li>
<p><code>exportTaskCollection</code>: Given a <code>TaskCollection</code>, exports and writes to a specified file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>Import/Export uses the same API as reading and saving the working <code>TaskCollection</code> file when exporting. However, additional checks are performed to ensure that the user does not inadvertently overwrite files, or corrupt the Deadline Manager.
<code>StorageManager</code> only handles writing to and reading from file, and relies on <code>ModelManager</code> to decide what data should be read or written.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
An ImportExportExceptionEvent is raised if Deadline Manager fails to read or write files for any reason.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The complementary <code>ModelManager</code> implements the following APIs necessary for Import and Export:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>importTaskCollection</code>: Creates and posts a new import request event</p>
</li>
<li>
<p><code>exportTaskCollection</code>: Creates and posts a new export request event.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The request events are posted to the <code>EventCenter</code>, which will dispatch to all subscribed components, such as <code>Storage</code>.</p>
</div>
</div>
<div class="sect4">
<h5 id="inter-component-communication"><a class="link" href="#inter-component-communication">Inter-component communication</a></h5>
<div class="paragraph">
<p>To facilitate communication between the two components, the deadline manager uses the event-driven model.
An import or export request event is created by <code>ModelManager</code>, and a handler in <code>StorageManager</code> is invoked to handle the event.
After data has been successfully read or written, the response is placed in another event for <code>ModelManager</code> to process.</p>
</div>
<div class="paragraph">
<p>To achieve the above, <code>ModelManager</code> indicates an import/export request by creating these events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ImportRequestEvent</code>: Requests for a new import from file.</p>
</li>
<li>
<p><code>ExportRequestEvent</code>: Requests to create a new export to file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>ModelManager</code> implements these additional methods to handle the responses from <code>Storage</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>handleImportDataAvailableEvent</code>: Processes the read task collection and merges tasks into the current collection.</p>
</li>
<li>
<p><code>handleImportExportExceptionEvent</code>: Indicates internally that the last import/export request has failed.</p>
</li>
</ul>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
It is the responsibility of the <code>Model</code> to feedback to the user in the case of an exception.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Similarly, <code>StorageManager</code> returns the result of imports and errors with the following events:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>ImportExportExceptionEvent</code>: Indicates that an error has occurred with import or export.</p>
</li>
<li>
<p><code>ImportDataAvailableEvent</code>: Indicates that the requested task collection has been read from disk.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p><code>StorageManager</code> implements these additional methods to handle requests from <code>Model</code>:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>handleImportRequestEvent</code>: Processes an import event and reads from file.</p>
</li>
<li>
<p><code>handleExportRequestEvent</code>: Processes an export event and writes to file.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="sect3">
<h4 id="sequence-flow"><a class="link" href="#sequence-flow">Sequence Flow</a></h4>
<div class="paragraph">
<p>The above interactions between <code>Model</code> and <code>Storage</code> can be illustrated with the following sequence diagrams.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ExportSequenceDiagram.png" alt="ExportSequenceDiagram" width="800">
</div>
<div class="title">Figure 1. Sequence diagram for exporting tasks</div>
</div>
<div class="paragraph">
<p>The figure above shows the sequence diagram for the interaction that happens when the user requests to export tasks.</p>
</div>
<div class="paragraph">
<p>Step 1. The user types in an export command. The Logic component parses the user&#8217;s command, and calls ModelManager&#8217;s <code>exportTaskCollection</code>.</p>
</div>
<div class="paragraph">
<p>Step 2. The <code>ModelManager</code> posts an <code>ExportRequestEvent</code> to the <code>EventsCenter</code>.</p>
</div>
<div class="paragraph">
<p>Step 3. The <code>EventsCenter</code> dispatches the <code>ExportRequestEvent</code> to <code>Storage</code>.</p>
</div>
<div class="paragraph">
<p>Step 4. <code>Storage</code> handles the <code>ExportRequestEvent</code> and writes to file. At this stage, the export is complete.</p>
</div>
<div class="paragraph">
<p>A similar interaction is seen when importing from a file.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ImportSequenceDiagram.png" alt="ImportSequenceDiagram" width="800">
</div>
<div class="title">Figure 2. Sequence diagram for importing tasks</div>
</div>
<div class="paragraph">
<p>The sequence diagram above shows the interactions that happen when a user attempts to import data from a file. The interactions are similar to export, with an additional step to resolve import conflict.</p>
</div>
<div class="paragraph">
<p>Step 1. The user types in an import command. The Logic component parses the user&#8217;s command, and calls ModelManager&#8217;s <code>importTaskCollection</code>.</p>
</div>
<div class="paragraph">
<p>Step 2. The <code>ModelManager</code> posts the <code>ImportRequestEvent</code> to the <code>EventsCenter</code>.</p>
</div>
<div class="paragraph">
<p>Step 3. The <code>EventsCenter</code> dispatches the <code>ImportRequestEvent</code> to <code>Storage</code>.</p>
</div>
<div class="paragraph">
<p>Step 4. <code>Storage</code> handles the <code>ImportRequestEvent</code>, reads from file, then posts a new <code>ImportDataAvailableEvent</code> to <code>EventsCenter</code> to signal that data is available.</p>
</div>
<div class="paragraph">
<p>Step 5. The <code>EventsCenter</code> dispatches the <code>ImportDataAvailableEvent</code> back to <code>ModelManager</code>.</p>
</div>
<div class="paragraph">
<p>Step 6. <code>ModelManager</code> takes the imported data and adds it to the Model. If necessary, it also de-conflicts the new entries.</p>
</div>
</div>
<div class="sect3">
<h4 id="import-conflict-resolver"><a class="link" href="#import-conflict-resolver">Import Conflict Resolver</a></h4>
<div class="paragraph">
<p>An imported task is deemed conflicting with an existing task if the two tasks compare <code>equal</code> with the internal implementation of Task&#8217;s <code>equal</code> method.
If the user attempts to import a new task that conflicts with an existing task, the task needs to be de-conflicted with one of the following resolver:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>IgnoreImportConflictResolver</code>: Discards the incoming task in favour of the existing task.</p>
</li>
<li>
<p><code>OverwriteImportConflictResolver</code>: Updates the existing task to reflect the values of the incoming task.</p>
</li>
<li>
<p><code>DuplicateImportConflictResolver</code>: Keep both copies.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The user can specify the de-conflict algorithm with flags. By default, the <code>IgnoreResolver</code> is used.</p>
</div>
<div class="paragraph">
<p>Given below is a sequence diagram to illustrate the interactions between <code>ModelManager</code> and <code>OverwriteImportConflictResolver</code>. While <code>OverwriteImportConflictResolver</code> is used as an example, the interactions with <code>IgnoreImportConflictResolver</code> and <code>DuplicateImportConflictResolver</code> are similar.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/ImportConflictResolverSequenceDiagram.png" alt="ImportConflictResolverSequenceDiagram" width="800">
</div>
<div class="title">Figure 3. Sequence diagram for import conflict resolver</div>
</div>
<div class="paragraph">
<p>Step 1. After requesting for import, Storage returns the <code>Tasks</code> that are serialised from file through an <code>ImportDataAvailableEvent</code>. This event is dispatched to <code>ModelManager</code> via <code>EventsCenter</code>.</p>
</div>
<div class="paragraph">
<p>Step 2. <code>ModelManager</code> retrieves the TaskCollection data, and for each task, <code>ModelManager</code> checks whether the task already exists in the Model.</p>
</div>
<div class="paragraph">
<p>Step 3a. If the task already exists, the functional method <code>resolve(() &#8594; add(), () &#8594; delete(), task)</code> of <code>OverwriteImportConflictResolver</code> is invoked. The Functional Programming style is used here, and ModelManager passes a reference to its <code>add</code> and <code>delete</code> methods.</p>
</div>
<div class="paragraph">
<p>Step 3b. <code>OverwriteImportConflictResolver</code> will first <code>delete()</code> the existing task, before it calls <code>add()</code> on the new one. This behaviour is specific to <code>OverwriteImportConflictResolver</code>. A <code>DuplicateImportConflictResolver</code> will simply add the new entry, while a <code>IgnoreImportConflictResolver</code> will do nothing.</p>
</div>
<div class="paragraph">
<p>Step 4. Otherwise, if the task doesn&#8217;t exist, <code>ModelManager</code> adds the task to the model.</p>
</div>
</div>
<div class="sect3">
<h4 id="csv-format-support"><a class="link" href="#csv-format-support">CSV Format support</a></h4>
<div class="paragraph">
<p>The discussion above has been format-agnostic, abstracting away details about the file formats. Deadline Manager supports both eXtensible Markup Language (XML) and Comma Separated Values (CSV) format. Currently, while XML format can be freely used to import and export data, CSV format can only be used to export data.</p>
</div>
<div class="paragraph">
<p>The CSV/XML format support is implemented using the respective <code>{*}TaskCollectionStorage</code> class. <code>XMLTaskCollectionStorage</code> is able to import and export data, so it implements both <code>TaskCollectionReadStorage</code> and <code>TaskCollectionWriteStorage</code> interface. On the other hand, <code>CSVTaskCollectionStorage</code> can only export data, so it implements only the <code>TaskCollectionWriteStorage</code> interface.</p>
</div>
<div class="paragraph">
<p>The <code>TaskCollectionReadStorage</code> specifies APIs that is responsible for reading from a file and serialising data into <code>Tasks</code> usable by <code>Model</code>. Classes that implement <code>TaskCollectionReadStorage</code> should support:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>readTaskCollection</code>: Reads a file and returns a <code>TaskCollection</code> serialised based on the contents of the file.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The <code>TaskCollectionWriteStorage</code> specifies APIs that is responsible for de-serialising <code>Tasks</code> into a text format to be written to a file. Classes that implement <code>TaskCollectionWriteStorage</code> should support:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>saveTaskCollection</code>: De-serialises the <code>TaskCollection</code> and saves the data into a file at <code>filePath</code>.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As a summary for the CSV/XML format discussion, the class diagram below shows the structure of <code>CsvTaskCollectionStorage</code> and <code>XmlTaskCollectionStorage</code>. This diagram is also replicated in <a href="#Storage"><code>Storage</code></a> above.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/CsvXmlClassDiagram.png" alt="CsvXmlClassDiagram" width="800">
</div>
<div class="title">Figure 4. Class diagram of Csv/XmlTaskCollectionStorage</div>
</div>
<div class="paragraph">
<p>Notably, the <code>CsvTaskCollectionStorage</code> only implements the <code>TaskCollectionWriteStorage</code>, while <code>XmlTaskCollectionStorage</code> implements both.</p>
</div>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-communication-between-code-model-code-and-code-storage-code"><a class="link" href="#aspect-communication-between-code-model-code-and-code-storage-code">Aspect: Communication between <code>Model</code> and <code>Storage</code></a></h5>
<div class="paragraph">
<p>Both the <code>Model</code> and the <code>Storage</code> components are required for import/export. However, they are separate components, and we need to establish a method of communication between the two components.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> <code>Model</code> is maintained as being separate from <code>Storage</code>. The event-based style is used: an Import/Export event is created to signal a request, and another Import/Export event is created to signal that the data is ready.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: <code>Storage</code> is decoupled from <code>Model</code>, i.e. changes to <code>Model</code> will not affect changes to <code>Storage</code>, and vice versa. This is a good OOP practice.</p>
</li>
<li>
<p>Cons: It is more difficult to implement and more overhead is incurred in passing data around. Calls are not immediate, and there is no way to immediately tell whether an execution succeeded or failed.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Model executes an import/export method in Storage directly.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: The data from the import/export request can be retrieved immediately and easily.</p>
</li>
<li>
<p>Cons: <code>Model</code> is more tightly coupled with <code>Storage</code>, i.e. <code>Model</code> and <code>Storage</code> will no longer be separate components, but will instead know the inner workings of each other.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-how-to-resolve-import-conflicts"><a class="link" href="#aspect-how-to-resolve-import-conflicts">Aspect: How to resolve import conflicts</a></h5>
<div class="paragraph">
<p>As described in <a href="#Import Deconflict">Import Deconflict</a>, an import conflict arises when the user attempts to import tasks that already exist in Deadline Manager. We need an import conflict resolver to determine how to deal with these tasks.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> An <code>ImportConflictResolver</code> class is implemented to resolve import conflicts. The user specifies which resolver algorithm to use, and the corresponding <code>{Method}ImportConflictResolver</code> object is created to resolve import conflicts.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: This provides more flexibility for user to define how to resolve imports. Additionally, this is better Software Engineering practice as it follows the Single Responsibility Principle: the <code>ImportConflictResolver</code> object is responsible only for its own algorithm.</p>
</li>
<li>
<p>Cons: It is more difficult to implement an entirely separate <code>ImportConflictResolver</code> class, complete with separate sub-classes for different algorithms.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use an <code>enum</code> to implement ImportConflictResolver. The <code>ImportConflictResolver</code> enum provides a pre-defined selection of algorithms that the user can specify.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: There is no need to implement separate classes. Since the <code>ImportConflictResolver</code> enum is only useful within Model, it reside within Model as a private variable.</p>
</li>
<li>
<p>Cons: If/else statements are required to determine which algorithm should be used. Additionally, an <code>ImportConflictResolver</code> implemented this way cannot be easily reused or extended.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-how-to-support-different-file-formats"><a class="link" href="#aspect-how-to-support-different-file-formats">Aspect: How to support different file formats</a></h5>
<div class="paragraph">
<p>As Deadline Manager supports multiple file formats, it is essential to consider how to modularise the file formatting component so that <code>Storage</code> can seamlessly process different types of supported files. Furthermore,  some formats such as CSV may not support importing, so it is necessary to distinguish between reading and writing operations.</p>
</div>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Maintain separate <code>TaskCollectionReadStorage</code> and <code>TaskCollectionWriteStorage</code> interfaces. Classes that support import/export can choose to support <code>ReadStorage</code>, <code>WriteStorage</code>, or both. This is written in an OOP style, and <code>StorageManager</code> is agnostic to the export format.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: This provides more flexibility that could support more file formats in the future. With the required API in place, future implementations only need to ensure that they support reading and/or writing. Furthermore, this allows implementations to have the option of supporting either reading or writing, instead of having to support both. This could be a more sensible option for formats like CSV, where importing from CSV might not be as useful as exporting to one.</p>
</li>
<li>
<p>Cons: The behaviour might be a little harder to understand from an end-user&#8217;s perspective. For example, in the current implementation, a user can export to CSV, but cannot import from one as only TaskCollectionWriteStorage is implemented.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Combine TaskCollectionReadStorage and TaskCollectionWriteStorage into a single interface, so that implementations that support import/export must support both at once.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: It is more intuitive for the user, as they can freely import from and export to any format.</p>
</li>
<li>
<p>Cons: It is more difficult to support a new format, as both the reading and writing features need to be supported at once. If a developer wants to implement only either reading or writing, they would violate the Liskov Substitution Principle. Thus, combining the interfaces would make implementation less flexible.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2018-11-11 21:52:33 UTC</div></div></div></body></html>