<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Bernard Teo Zhi Yi - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">DeadlineManager</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/CS2103-AY1819S1-W17-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Bernard Teo Zhi Yi - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-deadline-manager"><a class="link" href="#project-deadline-manager">1. PROJECT: Deadline Manager</a></h2>
<div class="sectionbody">
<hr>
</div>
</div>
<div class="sect1">
<h2 id="overview"><a class="link" href="#overview">2. Overview</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This portfolio serves to document my contributions to Deadline Manager - our 2<sup>nd</sup> year software engineering project.  We worked as a team of 5 people to create Deadline Manager, which is based on <a href="https://github.com/nus-cs2103-AY1819S1/addressbook-level4">Address Book (Level 4)</a>.  We were constrained to use a command line interface (CLI) and were given 6 weeks to work on our application.</p>
</div>
<div class="paragraph">
<p>Deadline Manager is a desktop deadline manager application designed for students in NUS School of Computing.  It is optimized to be easy to use, but yet give users great control and flexibility.  It is written in Java.  Visit our <a href="https://github.com/CS2103-AY1819S1-W17-4/main">project page</a> to try our application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">3. Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: Added an <strong>expressive but terse way to filter tasks</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>What it does: It allows the user to filter tasks using a filter expression.  Filter expressions can be composed from other filter expressions using "AND", "OR", and "NOT" logical operators, and users can optionally specify which attribute in the task to search against.</p>
</li>
<li>
<p>Justification: With an expected large number of tasks in our application, users need to be able to view a subset of tasks that are relevant to them so that they can make sense of their deadlines.  The ability to compose filter expressions adds great flexibility which is useful when filtering by more than one field.  The ability to export and share tasks further necessitates an expressive filter command that can filter precisely those tasks that the user would like to export.</p>
</li>
<li>
<p>Highlights: Firstly, the implementation features a full expression parser that parses arbitrary levels of parentheses and respects operator precedence.  Secondly, many different attribute of a tasks (of varying type, e.g. textual, numeric, date, sets) were made filterable.  Thirdly, each attribute could be compared in multiple ways (e.g. users can specify tasks to be filtered if they are due earlier than a given date, later than a given date, or exactly on a given date).  Fourthly, text can be quoted in order to search for a whole phrase.  Many design considerations have also been made to simplify its use: Specifying the attribute (of the task) for filtering is optional (when unspecified it searches all eligible attributes), a filter expression can use an attribute-specific default comparison, and "AND" operators may be omitted.  These design considerations greatly reduce the cognitive burden for simple use cases, but yet retain the ability to provide fine-grained control where needed.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: Added the deadline attribute to tasks.</p>
<div class="ulist">
<ul>
<li>
<p>What it does: The deadline attribute contains the due date of the task, and this is essential to the core functionality of the deadline manager.</p>
</li>
<li>
<p>Highlights: The implementation deals with the parsing and validating of dates.  Furthermore, it integrates into other commands that need to specify a deadline.  This attribute was also integrated throughout the storage-related code so that the deadline can be exported to a file and imported into another instance of Deadline Manager.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>: <a href="https://nus-cs2103-ay1819s1.github.io/cs2103-dashboard/#=undefined&amp;search=btzy">CS2103T Project Code Dashboard</a></p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management:</p>
<div class="ulist">
<ul>
<li>
<p>Contributed to user stories on GitHub issue tracker (<a href="https://github.com/CS2103-AY1819S1-W17-4/main/issues/9">#9</a>, <a href="https://github.com/CS2103-AY1819S1-W17-4/main/issues/9">#10</a>, <a href="https://github.com/CS2103-AY1819S1-W17-4/main/issues/9">#11</a>, <a href="https://github.com/CS2103-AY1819S1-W17-4/main/issues/9">#12</a>, <a href="https://github.com/CS2103-AY1819S1-W17-4/main/issues/9">#21</a>, <a href="https://github.com/CS2103-AY1819S1-W17-4/main/issues/9">#22</a>)</p>
</li>
<li>
<p>Manage milestones on GitHub</p>
</li>
</ul>
</div>
</li>
<li>
<p>Enhancements to existing features:</p>
<div class="ulist">
<ul>
<li>
<p>Overhauled the existing command parser to use a custom-made string tokenizer shared with the filter expression parser in order to support additional features such as quoted strings.  Almost all commands now depend on this string tokenizer.</p>
</li>
<li>
<p>Remove uniqueness constraints and weak equality in the underlying model.</p>
</li>
</ul>
</div>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Reviewed pull requests (with non-trivial review comments): <a href="https://github.com/CS2103-AY1819S1-W17-4/main/pull/92">#92</a>, <a href="https://github.com/CS2103-AY1819S1-W17-4/main/pull/154">#154</a></p>
</li>
<li>
<p>Contributed to forum discussions (examples:  <a href="https://github.com/nus-cs2103-AY1819S1/forum/issues/127">1</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">4. Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are excerpts of sections that I contributed to the user guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="filtering-a-list-of-tasks-code-filter-code"><a class="link" href="#filtering-a-list-of-tasks-code-filter-code">4.1. Filtering a list of tasks: <code>filter</code></a></h3>
<div class="paragraph">
<p>Filters the current list of tasks with a specified filter expression.<br>
Format: <code>filter FILTER_EXPRESSION</code></p>
</div>
<div class="paragraph">
<p>When this command is used, Deadline Manager will display only those tasks which satisfy the given filter expression.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When executing any <em>modifying</em> commands on a filtered list, the filter will be removed after that command (so all tasks will be shown).  Modifying commands are those commands that modify the deadline manager&#8217;s content (e.g. <code>add</code>, <code>delete</code>, <code>edit</code> and <code>clear</code>).
</td>
</tr>
</table>
</div>
<div class="sect3">
<h4 id="overview-2"><a class="link" href="#overview-2">4.1.1. Overview</a></h4>
<div class="paragraph">
<p>Filter predicates are the core of the <code>filter</code> command.  Each filter predicate specifies a testable condition that, for every task, may evaluate to either <code>true</code> or <code>false</code> (e.g. whether the deadline is earlier than 1/10/2018).  Filter predicates are regarded as "indivisible".</p>
</div>
</div>
<div class="sect3">
<h4 id="controlling-the-field-being-matched"><a class="link" href="#controlling-the-field-being-matched">4.1.2. Controlling the field being matched</a></h4>
<div class="paragraph">
<p>Each keyword can instead be written as a <em>full predicate</em>, which is a string of the following format: <code>&lt;key&gt;&lt;operator&gt;&lt;phrase&gt;</code>. The following diagram is an example of a typical full predicate:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FilterUnitDiagramUG.png" alt="FilterUnitDiagramUG" width="200">
</div>
</div>
<div class="paragraph">
<p>Each of the three parts of a full predicate means the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>key</code> is an alphabetic string that describes the attribute being compared. For example: <code>priority</code>, <code>tag</code> and <code>name</code>.</p>
</li>
<li>
<p><code>operator</code> is one of <code>:</code>, <code>=</code>, <code>&lt;</code>, <code>&gt;</code>.</p>
</li>
<li>
<p><code>phrase</code> is a string that describes what to search (this is called the search phrase, and it is similar to the <em>keyword</em> in the simplified syntax).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>As with the simplified syntax, an unquoted <code>phrase</code> string can contain only alphanumeric characters, <code>_</code>, <code>-</code>, <code>/</code>, <code>\</code>, <code>.</code>, and <code>,</code>.  To use other characters (including whitespace), the search phrase must be placed in quotes (both single (<code>'</code>) and double (<code>"</code>) quotes work, but the opening and closing quotes must match).</p>
</div>
<div class="paragraph">
<p>The operator <code>:</code> is known as the <strong>convenience</strong> operator&#8201;&#8212;&#8201;it is an alias for the operator that intuitively "does what you expect" for the given <code>key</code>.  More details are given below in the context of each key.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Some content has been omitted here.  Please visit <a href="https://cs2103-ay1819s1-w17-4.github.io/main/UserGuide.html#filtering-a-list-of-tasks-code-filter-code">this link</a> for the full user guide.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="set-based-extensions-for-filter-predicates"><a class="link" href="#set-based-extensions-for-filter-predicates">4.1.3. Set-based extensions for filter predicates</a></h4>
<div class="paragraph">
<p>For fields that represent a collection (i.e. tags and attachments), it is also possible to filter only tasks which <strong>do not contain</strong> other tags or attachments apart from those specified.  To do so, we introduce a set operator as per the diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FilterUnitDiagramSetUG.png" alt="FilterUnitDiagramSetUG" width="250">
</div>
</div>
<div class="paragraph">
<p>The part that was called <code>operator</code> previously is called the <code>field operator</code> here, and it retains its original meaning.  The <code>set operator</code> introduced here specifies how the specified set (in the filter predicate) compares to the task&#8217;s set (of tags or attachments).</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Meaning of the set operator:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The operator <code>&gt;</code> tests if every item in the specified set is contained within the task&#8217;s set.  The operator <code>&lt;</code> tests if every item in the task&#8217;s set is contained within the specified set.  The operator <code>=</code> tests if the two sets are equivalent (meaning that every item in the task&#8217;s set is contained within the specified set and vice-versa).  The convenience operator is an alias for <code>&gt;</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
When comparing a set-based field without using this dual-operator syntax, the set based operator used is effectively the convenience operator.  (In other words, <code>&lt;key&gt;&lt;operator&gt;&lt;phrase&gt;</code> is equivalent to <code>&lt;key&gt;:&lt;operator&gt;&lt;phrase&gt;</code>.)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples to demonstrate each operator type (using the tag field):</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col>
<col>
<col>
<col>
<col>
<col>
</colgroup>
<thead>
<tr>
<th class="tableblock halign-left valign-top">Task tags</th>
<th class="tableblock halign-left valign-top">Test phrase</th>
<th class="tableblock halign-left valign-top">Matches "&gt;:"</th>
<th class="tableblock halign-left valign-top">Matches "=:"</th>
<th class="tableblock halign-left valign-top">Matches "&lt;:"</th>
<th class="tableblock halign-left valign-top">Matches "::"</th>
</tr>
</thead>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">easy,CS2103,homework</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CS2103</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">easy,CS2103,homework</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">easy,CS2103,homework</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">easy,CS2103,homework</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CS2103,homework,easy</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">CS2103</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">CS2103,homework</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">easy,CS2103,homework</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cs2103</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock">easy,CS2103,homework</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">cs</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">No</p></td>
<td class="tableblock halign-left valign-top"><p class="tableblock">Yes</p></td>
</tr>
</tbody>
</table>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The set operator works in the same way as the above table for the attachment field as well.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>filter t=:CS</code>
Returns a subset of the current list of tasks that has a tag that contains the substring "CS" (case-insensitive).  The task cannot contain any tags that do not have the substring "CS".</p>
</li>
<li>
<p><code>filter a=:Hello</code>
Returns a subset of the current list of tasks that has an attachment that contains the substring "Hello" (case-insensitive).  The task cannot contain any attachments that do not have the substring "Hello".</p>
</li>
<li>
<p><code>filter t==CS2103T,CS2101</code>
Returns a subset of the current list of tasks that has both the tags "CS2103T" and "CS2101" (case-insensitive).  The task cannot contain any other tags.</p>
</li>
<li>
<p><code>filter t:=CS2103T</code>
Returns a subset of the current list of tasks that has the tag "CS2103T" (case-insensitive).  The task could also contain other tags.  (This is equivalent to <code>filter t=CS2103T</code>.)</p>
</li>
<li>
<p><code>filter t&lt;:CS</code>
Returns a subset of the current list of tasks that do not have any tags that do not contain the substring "CS" (case-insensitive).  The task need not have any tags that contain the substring "CS", and it could have no tags at all.  This is usually used in conjunction with other filter predicates to constrain the filtered list to be exported.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Some of my contributions to the user guide have been omitted for brevity.  Please visit <a href="https://cs2103-ay1819s1-w17-4.github.io/main/UserGuide.html#filtering-a-list-of-tasks-code-filter-code">this link</a> for the full user guide.</em></p></td>
</tr>
</tbody>
</table>
<div style="page-break-after: always;"></div>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">5. Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are excerpts of sections that I contributed to the Developer Guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="filter-feature"><a class="link" href="#filter-feature">5.1. Filter feature</a></h3>
<div class="paragraph">
<p>The deadline manager supports a very expressive filtering system.  The filtering system can be utilized with the <code>filter</code> command.</p>
</div>
<div class="sect3">
<h4 id="overview-3"><a class="link" href="#overview-3">5.1.1. Overview</a></h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Some content has been omitted here.  Please visit <a href="https://cs2103-ay1819s1-w17-4.github.io/main/DeveloperGuide.html#filter-feature">this link</a> for the full developer guide.</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>There are four components to parsing the filter operation:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A boolean expression parser that understands the high-level syntax of the filter expression and digests the filter expression into filter units</p>
</li>
<li>
<p>A parser that splits each filter unit (e.g. <code>t:CS2101</code>) into its three (or four) constituent parts if possible (e.g. <code>t</code>, <code>:</code>, <code>CS2101</code>)&#8201;&#8212;&#8201;this is the lambda expression in the sequence diagram below, which resides in the <code>FilterCommandParser</code> class</p>
</li>
<li>
<p>A parser that splits set-based fields (e.g. <code>CS2101,CS2103</code>) into individual keywords (this applies only to set-based fields (tags and attachments))&#8201;&#8212;&#8201;this is referred to as the <em>set parser</em>, and is implemented as a static method in a utility class</p>
</li>
<li>
<p>A method for each field (e.g. <code>Name</code>, <code>Deadline</code>, <code>Priority</code>, <code>Tag</code>) that interprets the the parts of the splitted filter unit in the context of that particular field, and returns the predicate that is required &#8201;&#8212;&#8201;this is referred to as the <em>field-specific parser</em>, and is implemented as a static method in each filterable field</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The second component in the list above also accepts a filter unit that contains the third part alone (e.g. <code>CS2101</code>) without the other two parts&#8201;&#8212;&#8201;this is known as the <em>simplified filter unit syntax</em>.  Also, when filtering by a set-based field, the filter unit can be splitted into four parts instead of three (e.g. <code>t=:CS2101,CS2103</code> will be plitted as <code>t</code>, <code>=</code>, <code>:</code>, <code>CS2101,CS2103</code>), and the additional symbol (<code>=</code> in this case) is used to specify how sets are compared.  These will be explained in more detail below.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A general string tokenizer (this is the <code>StringTokenizer</code> class in the <code>parser</code> subdirectory) is shared by parts 1 and 2 to split the filter expression into tokens.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FilterOperationSequenceDiagram.png" alt="FilterOperationSequenceDiagram" width="800">
</div>
<div class="title">Figure 1. Sequence diagram for parsing a filter command (for non-set-based fields)</div>
</div>
<div class="paragraph">
<p>The above diagram shows the simplified sequence of operations to parse a filter expression into a predicate for non-set-based fields.  Take note of the following simplifications in the sequence diagram above:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Field" represents any filterable field&#8201;&#8212;&#8201;<code>Name</code>, <code>Deadline</code>, <code>Priority</code>, or <code>Frequency</code>.</p>
</li>
<li>
<p>Strictly speaking, the "loop" is not actually a loop.  As the boolean expression parser parses the filter expression, it invokes the lambda expression whenever a filter unit is encountered.  For simplicity, the sequence diagram above hides the complexity within the boolean expression parser.</p>
</li>
<li>
<p>The construction of the <code>tokenizer</code> object is omitted so as to give focus to the interaction between the three components.  The <code>BooleanExpressionParser</code> actually constructs a <code>StringTokenizer</code> from the given <code>expression</code> (which is a <code>String</code>), before entering the loop.  This same <code>StringTokenizer</code> is fed into the lambda expression every time a filter unit is encountered.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Some content has been omitted here.  Please visit <a href="https://cs2103-ay1819s1-w17-4.github.io/main/DeveloperGuide.html#filter-feature">this link</a> for the full developer guide.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="filter-unit-parser"><a class="link" href="#filter-unit-parser">5.1.2. Filter unit parser</a></h4>
<div class="paragraph">
<p>The filter unit parser is written as a lambda expression inside the <code>FilterCommandParser</code> class.  This lambda expression then calls <code>FilterCommandParser#createFilterUnit</code>, which contains most of the logic for the filter unit parser.  There are two reasons for placing the filter unit parser in the <code>FilterCommandParser</code> class:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The filter unit parser parses syntax that is specific to filters only, and it cannot be easily adapted for other uses.</p>
</li>
<li>
<p>It frees both the boolean expression parser and the field-specific parser from having to depend on the <code>FilterCommandParser</code> class.</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>There are three possible ways to express a filter unit:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The full syntax&#8201;&#8212;&#8201;this allows for specifying the field for comparison and the method of comparison to be used</p>
</li>
<li>
<p>The extended full syntax for sets&#8201;&#8212;&#8201;this is like the full syntax, but enhanced with a way to specify how to compare sets</p>
</li>
<li>
<p>The simplified syntax&#8201;&#8212;&#8201;this improves terseness and reduces cognitive overhead</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The following diagram is describes a filter unit that is specified using the full syntax:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FilterUnitDiagram.png" alt="FilterUnitDiagram" width="200">
</div>
<div class="title">Figure 2. Structure of a filter unit that uses the full syntax</div>
</div>
<div class="paragraph">
<p>The following diagram is describes a filter unit that is specified using the extended full syntax for sets:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FilterUnitDiagramSet.png" alt="FilterUnitDiagramSet" width="250">
</div>
<div class="title">Figure 3. Structure of a filter unit that uses the extended full syntax for sets</div>
</div>
<div class="paragraph">
<p>As shown in the diagram above, a filter unit (using the full syntax or extended syntax) consists of these parts:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The field identifier, which identifies the field (e.g. name or deadline) that is being filtered on</p>
</li>
<li>
<p>The test phrase, which represents the value or keyword that tasks are being compared to</p>
</li>
<li>
<p>The filter operator, which describes how the identified field is compared to the test phrase (for set-based fields, this describes how each item (tag or attachment) in the identified field is compared to each item in the test phrase) (more details below)</p>
</li>
<li>
<p>(For the extended syntax only) The set operator, which describes the how the set of items (tags or attachments) in the identified field is compared to the set of items in the test phrase, when regarded as a set (more details below)</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The simplified syntax only contains the test phrase, and is explained in a separate section below.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>The filter unit parser distinguishes between the three possible ways to express a filter unit, as per the activity diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FilterUnitActivityDiagram.png" alt="FilterUnitActivityDiagram" width="800">
</div>
<div class="title">Figure 4. Activity diagram for parsing a filter unit</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Some content has been omitted here.  Please visit <a href="https://cs2103-ay1819s1-w17-4.github.io/main/DeveloperGuide.html#filter-feature">this link</a> for the full developer guide.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">5.1.3. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-what-the-convenience-operator-should-do"><a class="link" href="#aspect-what-the-convenience-operator-should-do">5.1.3.1. Aspect: What the convenience operator should do</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Support a convenience operator that is an alias of the most common filter operator for each field.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Reduces cognitive overhead as the convenience operator is usually the expected behaviour for most applications.</p>
</li>
<li>
<p>Cons: Users might be surprised that the convenience operator is an alias for a different operator depending on the field identifier.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Support a convenience operator that is an alias of a fixed operator regardless of field.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easier for users to remember what the convenience operator does.</p>
</li>
<li>
<p>Cons: Convenience operator is not really <em>convenient</em>&#8201;&#8212;&#8201;the behaviour might be surprising or awkward for some fields.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-how-to-signal-exceptional-conditions-when-parsing-filter-expressions"><a class="link" href="#aspect-how-to-signal-exceptional-conditions-when-parsing-filter-expressions">5.1.3.2. Aspect: How to signal exceptional conditions when parsing filter expressions</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use a different type of checked exception for every possible type of failure condition.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Every possible failure condition is listed in the <code>throws</code> clause of all methods&#8201;&#8212;&#8201;developers can easily tell how exactly each aspect of parsing could fail, and Java will statically check that every possible failure condition is handled (which makes it impossible to overlook any failure conditions).</p>
</li>
<li>
<p>Cons: More verbose method signatures.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use a single checked exception for all possible failure conditions, and distinguish errors by the message string instead.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Less verbose method signatures, and yet the benefit of checked exceptions is retained.</p>
</li>
<li>
<p>Cons: Developers can only tell what exact failure conditions are possible by inspecting the whole call graph of the method.  Furthermore, it is difficult to distinguish different error conditions in order to customize and show relevant messages to the user.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3:</strong> Use unchecked exceptions.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Simplest method signatures.</p>
</li>
<li>
<p>Cons: Easy to overlook possible failure conditions when modifying the code, so future developers might inadvertently introduce bugs.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Some of my contributions to the user guide have been omitted for brevity.  Please visit <a href="https://cs2103-ay1819s1-w17-4.github.io/main/DeveloperGuide.html#filter-feature">this link</a> for the full developer guide.</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2018-11-12 09:06:54 UTC</div></div></div></body></html>