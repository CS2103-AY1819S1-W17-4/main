<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><!--[if IE]><meta http-equiv="X-UA-Compatible" content="IE=edge"><![endif]--><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="Asciidoctor 1.5.6.1"><title>Bernard Teo Zhi Yi - Project Portfolio</title><link rel="stylesheet" href="../stylesheets/gh-pages.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.5.0/css/font-awesome.min.css">
<link rel="stylesheet" href="../stylesheets/coderay-asciidoctor.css"></head><body class="article"><div id="site-header"><nav class="navbar navbar-light bg-light"><div class="container"><a class="navbar-brand" href="../index.html">DeadlineManager</a><ul class="navbar-nav"><li class="nav-item"><a class="nav-link" href="../UserGuide.html">User Guide</a></li><li class="nav-item"><a class="nav-link" href="../DeveloperGuide.html">Developer Guide</a></li><li class="nav-item"><a class="nav-link active" href="../AboutUs.html">About Us</a></li><li class="nav-item"><a class="nav-link" href="../ContactUs.html">Contact Us</a></li><li class="navitem"><a class="nav-link" href="https://github.com/CS2103-AY1819S1-W17-4/main"><span class="fa fa-github fa-lg" aria-hidden="true"></span>&nbsp;View on GitHub</a></li></ul></div></nav></div><div id="header"><h1>Bernard Teo Zhi Yi - Project Portfolio</h1></div><div id="content"><div class="sect1">
<h2 id="project-deadline-manager"><a class="link" href="#project-deadline-manager">PROJECT: Deadline Manager</a></h2>
<div class="sectionbody">
<div class="paragraph">
<p>This portfolio serves to document my contributions to Deadline Manager - our 2<sup>nd</sup> year software engineering project.  We worked as a team of 5 people to create Deadline Manager, which is based on <a href="https://github.com/nus-cs2103-AY1819S1/addressbook-level4">Address Book (Level 4)</a>.  We were constrained to use a command line interface (CLI) and were given 6 weeks to work on our application.</p>
</div>
<div class="paragraph">
<p>Deadline Manager is a desktop deadline manager application designed for students in NUS School of Computing.  It is optimized to be easy to use, but yet give users great control and flexibility.  It is written in Java.  Visit our <a href="https://github.com/CS2103-AY1819S1-W17-4/main">project page</a> to try our application.</p>
</div>
</div>
</div>
<div class="sect1">
<h2 id="summary-of-contributions"><a class="link" href="#summary-of-contributions">1. Summary of contributions</a></h2>
<div class="sectionbody">
<div class="ulist">
<ul>
<li>
<p><strong>Major enhancement</strong>: Added an <strong>expressive but terse way to filter tasks</strong>.</p>
<div class="ulist">
<ul>
<li>
<p>What it does: It allows the user to filter tasks using a filter expression.  Filter expressions can be composed from other filter expressions using "AND", "OR", and "NOT" logical operators, and users can optionally specify which attribute in the task to search against.</p>
</li>
<li>
<p>Justification: With an expected large number of tasks in our application, users need to be able to view a subset of tasks that are relevant to them so that they can make sense of their deadlines.  The ability to compose filter expressions adds great flexibility which is useful when filtering by more than one field.  The ability to export and share tasks further necessitates an expressive filter command that can filter precisely those tasks that the user would like to export.</p>
</li>
<li>
<p>Highlights: Firstly, the implementation features a full expression parser that parses arbitrary levels of parentheses and respects operator precedence.  Secondly, many different attribute of a tasks (of varying type, e.g. textual, numeric, date, sets) were made filterable.  Thirdly, each attribute could be compared in multiple ways (e.g. users can specify tasks to be filtered if they are due earlier than a given date, later than a given date, or exactly on a given date).  Fourthly, text can be quoted in order to search for a whole phrase.  Many design considerations have also been made to simplify its use: Specifying the attribute (of the task) for filtering is optional (when unspecified it searches all eligible attributes), a filter expression can use an attribute-specific default comparison, and "AND" operators may be omitted.  These design considerations greatly reduce the cognitive burden for simple use cases, but yet retain the ability to provide fine-grained control where needed.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Minor enhancement</strong>: Added the deadline attribute to tasks.</p>
<div class="ulist">
<ul>
<li>
<p>What it does: The deadline attribute contains the due date of the task, and this is essential to the core functionality of the deadline manager.</p>
</li>
<li>
<p>Highlights: The implementation deals with the parsing and validating of dates.  Furthermore, it integrates into other commands that need to specify a deadline.  This attribute was also integrated throughout the storage-related code so that the deadline can be exported to a file and imported into another instance of Deadline Manager.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Code contributed</strong>: <a href="https://nus-cs2103-ay1819s1.github.io/cs2103-dashboard/#=undefined&amp;search=btzy">CS2103T Project Code Dashboard</a></p>
</li>
<li>
<p><strong>Other contributions</strong>:</p>
<div class="ulist">
<ul>
<li>
<p>Project management: Contributed to user stories on GitHub issue tracker (<span class="underline">#9</span>, <span class="underline">#10</span>, <span class="underline">#11</span>, <span class="underline">#12</span>, <span class="underline">#21</span>, <span class="underline">#22</span>); managed milestones on GitHub</p>
</li>
<li>
<p>Enhancements to existing features: Overhauled the existing command parser to use a custom-made string tokenizer shared with the filter expression parser in order to support additional features such as quoted strings.  Almost all commands now depend on this string tokenizer.</p>
</li>
<li>
<p>Community:</p>
<div class="ulist">
<ul>
<li>
<p>Reviewed pull requests (with non-trivial review comments): <a href="https://github.com/CS2103-AY1819S1-W17-4/main/pull/92">#92</a>, <a href="https://github.com/CS2103-AY1819S1-W17-4/main/pull/154">#154</a></p>
</li>
<li>
<p>Contributed to forum discussions (examples:  <a href="https://github.com/nus-cs2103-AY1819S1/forum/issues/127">1</a>)</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-user-guide"><a class="link" href="#contributions-to-the-user-guide">2. Contributions to the User Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are excerpts of sections that I contributed to the user guide. They showcase my ability to write documentation targeting end-users.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="filtering-a-list-of-tasks-code-filter-code"><a class="link" href="#filtering-a-list-of-tasks-code-filter-code">2.1. Filtering a list of tasks: <code>filter</code></a></h3>
<div class="paragraph">
<p>Filters the current list of tasks with a specified filter expression.<br>
Format: <code>filter FILTER_EXPRESSION</code></p>
</div>
<div class="paragraph">
<p>When this command is used, Deadline Manager will display only those tasks which satisfy the given filter expression.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
When executing any <em>modifying</em> commands on a filtered list, the filter will be removed after that command (so all tasks will be shown).  Modifying commands are those commands that modify the deadline manager&#8217;s content (e.g. <code>add</code>, <code>delete</code>, <code>edit</code> and <code>clear</code>).
</td>
</tr>
</table>
</div>
<div style="page-break-after: always;"></div>
<div class="sect3">
<h4 id="overview"><a class="link" href="#overview">2.1.1. Overview</a></h4>
<div class="imageblock" style="float: right">
<div class="content">
<img src="../images/userguide/filterdemo_simplified.png" alt="FilterDemo_Simplified" width="300">
</div>
<div class="title">Figure 1. Screenshot of simplified filter syntax</div>
</div>
<div class="paragraph">
<p>Filter predicates are the core of the <code>filter</code> command.  Each filter predicate specifies a testable condition that, for every task, may evaluate to either <code>true</code> or <code>false</code> (e.g. whether the deadline is earlier than 1/10/2018).  Filter predicates are regarded as "indivisible".</p>
</div>
</div>
<div class="sect3">
<h4 id="simplified-filter-syntax"><a class="link" href="#simplified-filter-syntax">2.1.2. Simplified filter syntax</a></h4>
<div class="paragraph">
<p>Tasks can be filtered by typing <code>filter</code> followed by one or more space-separated keywords (e.g. <code>filter assignment</code>, <code>filter homework CS2103</code>, or <code>filter badminton utown 3/10/2018</code>).  Such a filter expression would display only those tasks that contain textual or date fields (i.e. name, deadline, tags, and attachments) that matches <strong>every</strong> keyword (e.g. <code>filter homework CS2103</code> will match a task with name <code>Homework 1</code> <strong>and</strong> tags <code>CS2103</code> and <code>easy</code>).</p>
</div>
<div class="paragraph">
<p>The screenshot on the right is an example to demonstrate that any field may be matched.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Details of the simplified filter syntax have been omitted for brievity.  Please see our <a href="https://cs2103-ay1819s1-w17-4.github.io/main/UserGuide.html#simplified-filter-syntax">user guide</a> for more details and command examples.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="controlling-the-field-being-matched"><a class="link" href="#controlling-the-field-being-matched">2.1.3. Controlling the field being matched</a></h4>
<div class="imageblock thumb right">
<div class="content">
<img src="../images/FilterUnitDiagramUG.png" alt="FilterUnitDiagramUG" width="120">
</div>
<div class="title">Figure 2. Filter unit format</div>
</div>
<div class="paragraph">
<p>Each keyword can instead be written as a <em>full predicate</em>, which is a string of the following format: <code>&lt;key&gt;&lt;operator&gt;&lt;phrase&gt;</code>. The diagram on the right is an example of a typical full predicate.</p>
</div>
<div class="paragraph">
<p>Each of the three parts of a full predicate means the following:</p>
</div>
<div class="ulist">
<ul>
<li>
<p><code>key</code> is an alphabetic string that describes the attribute being compared. For example: <code>priority</code>, <code>tag</code>, or <code>name</code>.</p>
</li>
<li>
<p><code>operator</code> is one of <code>:</code>, <code>=</code>, <code>&lt;</code>, <code>&gt;</code>.</p>
</li>
<li>
<p><code>phrase</code> is a string that describes what to search (this is called the search phrase, and it is similar to the <em>keyword</em> in the simplified syntax).</p>
</li>
</ul>
</div>
<div class="paragraph">
<p>The operator <code>:</code> is known as the <strong>convenience</strong> operator&#8201;&#8212;&#8201;it is an alias for the operator that intuitively "does what you expect" for the given <code>key</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The behaviour for each given <code>key</code> is documentated in our <a href="https://cs2103-ay1819s1-w17-4.github.io/main/UserGuide.html#controlling-the-field-being-matched">user guide</a>.  Ample examples are also available there.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="composing-filter-predicates"><a class="link" href="#composing-filter-predicates">2.1.4. Composing filter predicates</a></h4>
<div class="paragraph">
<p>Filter predicates may be combined using AND, OR, and NOT operators, as well as any level of parantheses.  This feature gives ultimate flexibility to the filter command.</p>
</div>
<div class="paragraph">
<p>For example, <code>filter n:assignment | (p:3 &amp; t:CS2101)</code> will return a subset of the current list of tasks that have a name that contains "assignment", or have priority at least 3 and contains tag "CS2101".</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>For more explanation and examples on using composition of filter predicates effectively, please visit our <a href="https://cs2103-ay1819s1-w17-4.github.io/main/UserGuide.html#composing-filter-predicates">user guide</a>.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="set-based-extensions-for-filter-predicates"><a class="link" href="#set-based-extensions-for-filter-predicates">2.1.5. Set-based extensions for filter predicates</a></h4>
<div class="imageblock thumb right">
<div class="content">
<img src="../images/FilterUnitDiagramSetUG.png" alt="FilterUnitDiagramSetUG" width="150">
</div>
<div class="title">Figure 3. Filter unit format (set-based)</div>
</div>
<div class="paragraph">
<p>For fields that represent a collection (i.e. tags and attachments), it is also possible to filter only tasks which <strong>do not contain</strong> other tags or attachments <strong>apart</strong> from those specified.  To do so, we introduce a set operator as per the diagram on the right.</p>
</div>
<div class="paragraph">
<p>The part that was called <code>operator</code> previously is called the <code>field operator</code> here, and it retains its original meaning.  The <code>set operator</code> introduced here specifies how the specified set (in the filter predicate) compares to the task&#8217;s set (of tags or attachments).</p>
</div>
<div class="sidebarblock">
<div class="content">
<div class="paragraph">
<p>Meaning of the set operator:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>The operator <code>&gt;</code> tests if every item in the specified set is contained within the task&#8217;s set.  The operator <code>&lt;</code> tests if every item in the task&#8217;s set is contained within the specified set.  The operator <code>=</code> tests if the two sets are equivalent (meaning that every item in the task&#8217;s set is contained within the specified set and vice-versa).  The convenience operator is an alias for <code>&gt;</code>.</p>
</li>
</ul>
</div>
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
When comparing a set-based field without using this dual-operator syntax, the set based operator used is effectively the convenience operator.  (In other words, <code>&lt;key&gt;&lt;operator&gt;&lt;phrase&gt;</code> is equivalent to <code>&lt;key&gt;:&lt;operator&gt;&lt;phrase&gt;</code>.)
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>Examples to demonstrate each operator type (using the tag field):</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/userguide/filter_set_example.png" alt="filter set example" width="800">
</div>
</div>
<div class="admonitionblock tip">
<table>
<tr>
<td class="icon">
<i class="fa icon-tip" title="Tip"></i>
</td>
<td class="content">
The set operator works in the same way as the above table for the attachment field as well.
</td>
</tr>
</table>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>For more examples, please visit our <a href="https://cs2103-ay1819s1-w17-4.github.io/main/UserGuide.html#set-based-extensions-for-filter-predicates">user guide</a>.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="error-messages"><a class="link" href="#error-messages">2.1.6. Error messages</a></h4>
<div class="paragraph">
<p>As filter expressions can be made arbitrarily complex, the filter command is also designed to provide comprehensive error messages that will help you to pinpoint any errors.</p>
</div>
<div class="paragraph">
<p>When an error is encountered, a copy of the filter expression will be displayed, with the error underlined and coloured in red, so that it becomes easier to identify the error.  A relevant error message will also be displayed.</p>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The underlined substring might not always be exactly what you expect, because there could be multiple possible candidates for the error.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>There are a total of around <strong>15 different types</strong> of error messages.</p>
</div>
<div class="paragraph">
<p>The following screenshots show two possible errors and the displayed result:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/userguide/filterdemo_error_combined.png" alt="FilterDemo_Combined" width="800">
</div>
<div class="title">Figure 4. Screenshots displaying errors in the filter expression</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Many of my contributions to the user guide have been omitted for brevity.  Please visit <a href="https://cs2103-ay1819s1-w17-4.github.io/main/UserGuide.html#filtering-a-list-of-tasks-code-filter-code">this link</a> for the full user guide.</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
<div class="sect1">
<h2 id="contributions-to-the-developer-guide"><a class="link" href="#contributions-to-the-developer-guide">3. Contributions to the Developer Guide</a></h2>
<div class="sectionbody">
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Given below are excerpts of sections that I contributed to the developer guide. They showcase my ability to write technical documentation and the technical depth of my contributions to the project.</em></p></td>
</tr>
</tbody>
</table>
<div class="sect2">
<h3 id="filter-feature"><a class="link" href="#filter-feature">3.1. Filter feature</a></h3>
<div class="paragraph">
<p>The deadline manager supports a very expressive filtering system.  The filtering system can be utilized with the <code>filter</code> command.</p>
</div>
<div class="sect3">
<h4 id="overview-2"><a class="link" href="#overview-2">3.1.1. Overview</a></h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>For a more detailed overview of the filter feature, please visit our <a href="https://cs2103-ay1819s1-w17-4.github.io/main/DeveloperGuide.html#overview">developer guide</a>.</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>There are four components to parsing the filter operation:</p>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>A boolean expression parser that understands the high-level syntax of the filter expression and digests the filter expression into filter units</p>
</li>
<li>
<p>A parser that splits each filter unit (e.g. <code>t:CS2101</code>) into its three (or four) constituent parts if possible (e.g. <code>t</code>, <code>:</code>, <code>CS2101</code>)&#8201;&#8212;&#8201;this is the lambda expression in the sequence diagram below, which resides in the <code>FilterCommandParser</code> class</p>
</li>
<li>
<p>A parser that splits set-based fields (e.g. <code>CS2101,CS2103</code>) into individual keywords (this applies only to set-based fields (tags and attachments))&#8201;&#8212;&#8201;this is referred to as the <em>set parser</em>, and is implemented as a static method in a utility class</p>
</li>
<li>
<p>A method for each field (e.g. <code>Name</code>, <code>Deadline</code>, <code>Priority</code>, <code>Tag</code>) that interprets the parts of the splitted filter unit in the context of that particular field, and returns the predicate that is required &#8201;&#8212;&#8201;this is referred to as the <em>field-specific parser</em>, and is implemented as a static method in each filterable field</p>
</li>
</ol>
</div>
<div class="admonitionblock note">
<table>
<tr>
<td class="icon">
<i class="fa icon-note" title="Note"></i>
</td>
<td class="content">
The second component in the list above also accepts a filter unit that contains the third part alone (e.g. <code>CS2101</code>) without the other two parts&#8201;&#8212;&#8201;this is known as the <em>simplified filter unit syntax</em>.  Also, when filtering by a set-based field, the filter unit can be splitted into four parts instead of three (e.g. <code>t=:CS2101,CS2103</code> will be plitted as <code>t</code>, <code>=</code>, <code>:</code>, <code>CS2101,CS2103</code>), and the additional symbol (<code>=</code> in this case) is used to specify how sets are compared.  These will be explained in more detail below.
</td>
</tr>
</table>
</div>
<div class="paragraph">
<p>A general string tokenizer (this is the <code>StringTokenizer</code> class in the <code>parser</code> subdirectory) is shared by parts 1 and 2 to split the filter expression into tokens.</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FilterOperationSequenceDiagram.png" alt="FilterOperationSequenceDiagram" width="500">
</div>
<div class="title">Figure 5. Sequence diagram for parsing a filter command (for non-set-based fields)</div>
</div>
<div class="paragraph">
<p>The above diagram shows the simplified sequence of operations to parse a filter expression into a predicate for non-set-based fields.  Take note of the following simplifications in the sequence diagram above:</p>
</div>
<div class="ulist">
<ul>
<li>
<p>"Field" represents any filterable field&#8201;&#8212;&#8201;<code>Name</code>, <code>Deadline</code>, <code>Priority</code>, or <code>Frequency</code>.</p>
</li>
<li>
<p>Strictly speaking, the "loop" is not actually a loop.  As the boolean expression parser parses the filter expression, it invokes the lambda expression whenever a filter unit is encountered.  For simplicity, the sequence diagram above hides the complexity within the boolean expression parser.</p>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>For more details on the general string tokenizer that was specially designed for the filter command, please visit our <a href="https://cs2103-ay1819s1-w17-4.github.io/main/DeveloperGuide.html#string-tokenizer">developer guide</a>.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="boolean-expression-parser"><a class="link" href="#boolean-expression-parser">3.1.2. Boolean expression parser</a></h4>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The boolean expression parser uses the shunting yard algorithm to compose NOT, AND, and OR operators, and respects operator precedence.  For more information, please visit our <a href="https://cs2103-ay1819s1-w17-4.github.io/main/DeveloperGuide.html#boolean-expression-parser">developer guide</a>.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="filter-unit-parser"><a class="link" href="#filter-unit-parser">3.1.3. Filter unit parser</a></h4>
<div class="paragraph">
<p>The filter unit parser is written as a lambda expression inside the <code>FilterCommandParser</code> class.  This lambda expression then calls <code>FilterCommandParser#createFilterUnit</code>, which contains most of the logic for the filter unit parser.</p>
</div>
<div class="paragraph">
<p>There are three possible ways to express a filter unit:</p>
</div>
<div class="imageblock" style="float: right">
<div class="content">
<img src="../images/FilterUnitDiagram.png" alt="FilterUnitDiagram" width="200">
</div>
<div class="title">Figure 6. Structure of a filter unit</div>
</div>
<div class="olist arabic">
<ol class="arabic">
<li>
<p>The full syntax&#8201;&#8212;&#8201;this allows for specifying the field for comparison and the method of comparison used</p>
</li>
<li>
<p>The extended full syntax for sets&#8201;&#8212;&#8201;this is enhanced to specify how to compare sets</p>
</li>
<li>
<p>The simplified syntax&#8201;&#8212;&#8201;this improves terseness and reduces cognitive overhead</p>
</li>
</ol>
</div>
<div class="paragraph">
<p>The diagram on the right describes a filter unit that is specified using the full syntax.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>The extended full syntax for sets and the simplified syntax are explained in our <a href="https://cs2103-ay1819s1-w17-4.github.io/main/DeveloperGuide.html#filter-unit-parser">developer guide</a>.</em></p></td>
</tr>
</tbody>
</table>
<div class="paragraph">
<p>The filter unit parser distinguishes between the three possible ways to express a filter unit, as per the activity diagram below:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FilterUnitActivityDiagram.png" alt="FilterUnitActivityDiagram" width="600">
</div>
<div class="title">Figure 7. Activity diagram for parsing a filter unit</div>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>More explanation on the "field identifier", "filter operator", "set operator", and "test phrase" are available in our <a href="https://cs2103-ay1819s1-w17-4.github.io/main/DeveloperGuide.html#field-identifier">developer guide</a>.  Documentation for the field-specific parser is also available there.  Please follow the link for more information.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="error-messages-2"><a class="link" href="#error-messages-2">3.1.4. Error messages</a></h4>
<div class="paragraph">
<p>Error conditions are signalled via checked exceptions that inherit from <code>seedu.address.logic.parser.tokenizer.exception.TokenizationException</code>.  Those error conditions that are associated with a particular character range in the filter expression inherit from <code>seedu.address.logic.parser.tokenizer.exception.TokenizationMismatchException</code>, which provides the facilities for storing the start and end indices of the offending character range.  <code>TokenizationMismatchException</code> itself inherits from <code>TokenizationException</code>.  Checked exceptions were chosen because they allow the compiler to enforce that every possible exception is caught, and creating a subclass for each kind of error condition allows for the precise specification (in the <code>throws</code> clause) of the kind of error conditions that can happen in each and every method.</p>
</div>
<div class="paragraph">
<p>The following inheritance diagram shows the inheritance hierarchy of each kind of exception that can be thrown from parsing a filter expression:</p>
</div>
<div class="imageblock">
<div class="content">
<img src="../images/FilterParserErrorInheritanceDiagram.png" alt="FilterParserErrorInheritanceDiagram" width="800">
</div>
<div class="title">Figure 8. Inheritance tree for exceptions that may be thrown from parsing a filter expression</div>
</div>
<div class="paragraph">
<p>In the diagram above, the <span class="blue"><strong>blue</strong></span> classes are exceptions thrown by <code>StringTokenizer</code>, while the <span class="red"><strong>red</strong></span> classes are exceptions thrown by <code>BooleanExpressionParser</code>.</p>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>More explanation on the use of <code>TokenizationInvalidPredicateException</code> is available in our <a href="https://cs2103-ay1819s1-w17-4.github.io/main/DeveloperGuide.html#error-messages">developer guide</a>.</em></p></td>
</tr>
</tbody>
</table>
</div>
<div class="sect3">
<h4 id="design-considerations"><a class="link" href="#design-considerations">3.1.5. Design Considerations</a></h4>
<div class="sect4">
<h5 id="aspect-what-the-convenience-operator-should-do"><a class="link" href="#aspect-what-the-convenience-operator-should-do">3.1.5.1. Aspect: What the convenience operator should do</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Support a convenience operator that is an alias of the most common filter operator for each field.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Reduces cognitive overhead as the convenience operator is usually the expected behaviour for most applications.</p>
</li>
<li>
<p>Cons: Users might be surprised that the convenience operator is an alias for a different operator depending on the field identifier.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Support a convenience operator that is an alias of a fixed operator regardless of field.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Easier for users to remember what the convenience operator does.</p>
</li>
<li>
<p>Cons: Convenience operator is not really <em>convenient</em>&#8201;&#8212;&#8201;the behaviour might be surprising or awkward for some fields.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
</div>
<div class="sect4">
<h5 id="aspect-how-to-signal-exceptional-conditions-when-parsing-filter-expressions"><a class="link" href="#aspect-how-to-signal-exceptional-conditions-when-parsing-filter-expressions">3.1.5.2. Aspect: How to signal exceptional conditions when parsing filter expressions</a></h5>
<div class="ulist">
<ul>
<li>
<p><strong>Alternative 1 (current choice):</strong> Use a different type of checked exception for every possible type of failure condition.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Every possible failure condition is listed in the <code>throws</code> clause of all methods&#8201;&#8212;&#8201;developers can easily tell how exactly each aspect of parsing could fail, and Java will statically check that every possible failure condition is handled (which makes it impossible to overlook any failure conditions).</p>
</li>
<li>
<p>Cons: More verbose method signatures.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 2:</strong> Use a single checked exception for all possible failure conditions, and distinguish errors by the message string instead.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Less verbose method signatures, and yet the benefit of checked exceptions is retained.</p>
</li>
<li>
<p>Cons: Developers can only tell what exact failure conditions are possible by inspecting the whole call graph of the method.  Furthermore, it is difficult to distinguish different error conditions in order to customize and show relevant messages to the user.</p>
</li>
</ul>
</div>
</li>
<li>
<p><strong>Alternative 3:</strong> Use unchecked exceptions.</p>
<div class="ulist">
<ul>
<li>
<p>Pros: Simplest method signatures.</p>
</li>
<li>
<p>Cons: Easy to overlook possible failure conditions when modifying the code, so future developers might inadvertently introduce bugs.</p>
</li>
</ul>
</div>
</li>
</ul>
</div>
<table class="tableblock frame-all grid-all spread">
<colgroup>
<col style="width: 100%;">
</colgroup>
<tbody>
<tr>
<td class="tableblock halign-left valign-top"><p class="tableblock"><em>Many of my contributions to the developer guide have been omitted for brevity.  Please visit <a href="https://cs2103-ay1819s1-w17-4.github.io/main/DeveloperGuide.html#filter-feature">this link</a> for the full developer guide.</em></p></td>
</tr>
</tbody>
</table>
</div>
</div>
</div>
</div>
</div></div><div id="footer"><div class="container"><div id="footer-text">Last updated 2018-11-12 15:13:59 UTC</div></div></div></body></html>